<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fruits & Dry Fruits Store</title>
  <link rel="shortcut icon" href="maru dry fruit favicon.jpg" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    
  body {
    background-image: url('logo.jpg'); /* or 'images/logo.jpg' if in a folder */
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: center center;
  }

    .card {
      transition: transform 0.2s ease-in-out;
      border: none;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      border-radius: 15px;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card-img-top {
      height: 200px;
      object-fit: cover;
      border-top-left-radius: 15px;
      border-top-right-radius: 15px;
    }
    .filter-section {
      background-color: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.05);
    }
    .store-title {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 1rem;
      text-align: center;
      color: rgb(73, 175, 238);
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top shadow">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center gap-2" href="#">
  <img src="ashi.jpg" alt="Logo" style="height: 40px; border-radius: 50px;">
  <span class="fw-bold text-warning">Maru Dry Fruits</span>
</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/HOMEPAGE DESIGN/index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/ABOUT DESIGN/about.html">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Products</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/CONTACT DESIGN/contact.html">Contact</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/CHECKOUT DESIGN/index.html">Checkout</a>
        </li>
        <li class="nav-item">
          <button class="btn btn-sm btn-outline-light ms-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#sideCart" aria-controls="sideCart">
            üõí Cart
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <div class="container">
    <div class="store-title">üçé Fruits & Dry Fruits Store ü•≠</div>

    <div class="row mb-4 filter-section">
      <div class="col-md-6">
        <label for="categoryFilter" class="form-label">Filter by Category:</label>
        <select id="categoryFilter" class="form-select">
          <option value="all">All</option>
          <option value="fruit">Fruit</option>
          <option value="dryfruit">Dry Fruit</option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="sortPrice" class="form-label">Sort by Price:</label>
        <select id="sortPrice" class="form-select">
          <option value="none">None</option>
          <option value="low">Low to High</option>
          <option value="high">High to Low</option>
        </select>
      </div>
    </div>

    <div class="row" id="productList"></div>
  </div>

  <!-- Product Detail Modal -->
  <div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
        <div class="modal-body d-flex flex-column flex-md-row p-0">
          <div class="col-md-5 bg-black d-flex align-items-center justify-content-center p-4">
            <img id="modalImage" src="" alt="Product" class="img-fluid rounded" style="max-height: 400px;">
          </div>
          <div class="col-md-7 p-4">
            <div class="d-flex justify-content-between align-items-start">
              <div>
                <h4 id="modalName" class="fw-bold mb-1">Product Name</h4>
                <p class="text-muted mb-2">
                  <del id="modalOldPrice">Rs. 0</del> <span id="modalPrice" class="fw-bold text-success">Rs. 0</span>
                </p>
                <p class="small text-secondary" id="modalDescription"></p>
              </div>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="mt-3">
              <strong>Choose Size</strong>
              <div class="form-check">
                <input class="form-check-input size-radio" type="radio" name="size" id="sizeKG" value="KG" checked>
                <label class="form-check-label" for="sizeKG">KG</label>
              </div>
              <div class="form-check">
                <input class="form-check-input size-radio" type="radio" name="size" id="sizePOW" value="POW">
                <label class="form-check-label" for="sizePOW">POW</label>
              </div>
            </div>

            <div class="mt-3" id="quantitySection">
              <strong>Quantity</strong>
              <br>
              <div class="input-group" style="max-width: 150px;">
                <br>
                <button class="btn btn-outline-secondary" type="button" id="qtyMinus">‚àí</button>
                <br>
                <input type="number" class="form-control text-center" id="qtyInput" value="1" min="1">
                <br>
                <button class="btn btn-outline-secondary" type="button" id="qtyPlus">+</button>
              </div>
            </div>

            <div class="mt-3">
              <h5>Total: <span id="totalPrice" class="text-primary">Rs. 0</span></h5>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary w-100" id="confirmAddToCartBtn">üõí Add to Cart</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Side Cart Offcanvas -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="sideCart">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title">üõí Your Cart</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body" id="cartItemsContainer"><p class="text-muted">No items yet.</p></div>
    <div class="p-3 border-top">
      <button class="btn btn-success w-100" id="checkoutBtn">üßæ Go to Checkout</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const products = [
      { name: "Almonds", price: 4200, category: "dryfruit", photo: "https://img.freepik.com/premium-photo/organic-almond-nut-isolated-white-background_299651-2983.jpg?w=996" },
      { name: "Peanut", price: 545, category: "dryfruit", photo: "https://img.freepik.com/premium-photo/peanut-pods-with-green-leaves_159938-9.jpg?w=826" },
      { name: "Cashews", price: 279, category: "dryfruit", photo: "https://img.freepik.com/free-photo/raw-cashews-nuts-bowl-dark-background_1150-45357.jpg" },
      { name: "Mango", price: 300, category: "fruit", photo: "https://img.freepik.com/premium-photo/ripe-yellow-mango-with-cut-half-green-leaf-isolated-white-surface_252965-894.jpg" },
      { name: "WaterMelon", price: 460, category: "fruit", photo: "https://img.freepik.com/free-vector/watermelon-party-serving-triangle-wedge-piece-realistic-composition-with-juice-splash-fresh-basil-leaves-vector-illustration_1284-30332.jpg" },
      { name: "Apple", price: 420, category: "fruit", photo: "https://img.freepik.com/premium-photo/fresh-red-apple-isolated-white_272787-118.jpg" }
    ];

    const productList = document.getElementById('productList');
    const categoryFilter = document.getElementById('categoryFilter');
    const sortPrice = document.getElementById('sortPrice');
    const cart = [];

    let currentProduct = null;

    function renderProducts(items) {
      productList.innerHTML = '';
      items.forEach(product => {
        const col = document.createElement('div');
        col.className = 'col-md-4 mb-4';
        col.innerHTML = `
          <div class="card h-100" style="cursor:pointer;">
            <img src="${product.photo}" class="card-img-top" alt="${product.name}">
            <div class="card-body">
              <h5 class="card-title">${product.name}</h5>
              <p class="card-text text-muted">Category: ${product.category}</p>
              <p class="card-text fw-bold text-success">Price: Rs ${product.price.toFixed(2)}</p>
              <button class="btn btn-warning w-100">Add to Cart üõí</button>
            </div>
          </div>
        `;
        col.querySelector('button').addEventListener('click', () => openCartModal(product));
        productList.appendChild(col);
      });
    }

    function updateDisplay() {
      let filtered = [...products];
      const category = categoryFilter.value;
      if (category !== 'all') filtered = filtered.filter(p => p.category === category);
      const sort = sortPrice.value;
      if (sort === 'low') filtered.sort((a, b) => a.price - b.price);
      else if (sort === 'high') filtered.sort((a, b) => b.price - a.price);
      renderProducts(filtered);
    }

    function openCartModal(product) {
      currentProduct = product;
      document.getElementById('modalName').textContent = product.name;
      document.getElementById('modalImage').src = product.photo;
      document.getElementById('modalDescription').textContent = `Category: ${product.category}`;
      document.getElementById('modalOldPrice').textContent = `Rs. ${product.price + 100}`;
      document.getElementById('modalPrice').textContent = `Rs. ${product.price}`;
      document.getElementById('sizeKG').checked = true;
      document.getElementById('qtyInput').value = 1;
      updateTotalPrice();
      setupQtyButtons();
      new bootstrap.Modal(document.getElementById('cartModal')).show();
    }

    function updateTotalPrice() {
      const size = document.querySelector('input[name="size"]:checked').value;
      const qty = parseInt(document.getElementById('qtyInput').value);
      let unitPrice = currentProduct.price;
      if (size === 'POW') unitPrice += 250;
      document.getElementById('totalPrice').textContent = `Rs. ${(unitPrice * qty).toFixed(2)}`;
    }

    function setupQtyButtons() {
      const qtyInput = document.getElementById('qtyInput');
      document.getElementById('qtyMinus').onclick = () => {
        if (qtyInput.value > 1) {
          qtyInput.value--;
          updateTotalPrice();
        }
      };
      document.getElementById('qtyPlus').onclick = () => {
        qtyInput.value++;
        updateTotalPrice();
      };
      qtyInput.oninput = () => {
        if (qtyInput.value < 1) qtyInput.value = 1;
        updateTotalPrice();
      };
    }

    document.querySelectorAll('.size-radio').forEach(radio => {
      radio.addEventListener('change', updateTotalPrice);
    });

    document.getElementById('confirmAddToCartBtn').addEventListener('click', () => {
      const size = document.querySelector('input[name="size"]:checked').value;
      const qty = parseInt(document.getElementById('qtyInput').value);
      let unitPrice = currentProduct.price;
      if (size === 'POW') unitPrice += 250;
      const total = unitPrice * qty;
      cart.push({ name: currentProduct.name, image: currentProduct.photo, size, qty, total });
      updateCartUI();
      bootstrap.Modal.getInstance(document.getElementById('cartModal')).hide();
      new bootstrap.Offcanvas(document.getElementById('sideCart')).show();
    });

    function updateCartUI() {
      const container = document.getElementById('cartItemsContainer');
      container.innerHTML = '';
      if (cart.length === 0) {
        container.innerHTML = '<p class="text-muted">No items yet.</p>';
        return;
      }
      cart.forEach((item) => {
        const div = document.createElement('div');
        div.className = 'd-flex mb-3 align-items-center border-bottom pb-2';
        div.innerHTML = `
          <img src="${item.image}" class="me-2 rounded" style="width: 60px; height: 60px; object-fit: cover;">
          <div class="flex-grow-1">
            <h6 class="mb-0">${item.name}</h6>
            <small class="text-muted">${item.size} x ${item.qty}</small><br>
            <strong class="text-primary">Rs. ${item.total.toFixed(2)}</strong>
          </div>
        `;
        container.appendChild(div);
      });
    }

    document.getElementById('checkoutBtn').addEventListener('click', () => {
      alert("Proceeding to checkout...");
      window.location.href = "/CHECKOUT DESIGN/index.html";
    });

    categoryFilter.addEventListener('change', updateDisplay);
    sortPrice.addEventListener('change', updateDisplay);
    renderProducts(products);
  </script>
</body>
</html>
